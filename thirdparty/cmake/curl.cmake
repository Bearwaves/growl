if (GROWL_ANDROID)
	find_package(curl REQUIRED CONFIG)
	add_library(libcurl_static INTERFACE)
	target_link_libraries(libcurl_static INTERFACE curl::curl_static)
else()
	set(SOURCE_PREFIX ${CMAKE_CURRENT_SOURCE_DIR}/curl)

	set(BUILD_CURL_EXE OFF)
	set(BUILD_STATIC_LIBS ON)
	set(BUILD_SHARED_LIBS OFF)
	set(BUILD_LIBCURL_DOCS OFF)
	set(BUILD_MISC_DOCS OFF)
	set(BUILD_TESTING OFF)
	set(BUILD_EXAMPLES OFF)
	set(CURL_DISABLE_INSTALL ON)
	set(CURL_ENABLE_EXPORT_TARGET OFF)
	set(CURL_USE_LIBPSL OFF)
	set(CURL_USE_LIBSSH2 OFF)
	set(CURL_USE_OPENSSL OFF)
	set(ENABLE_UNICODE ON)
	set(ENABLE_CURL_MANUAL OFF)
	set(USE_NGHTTP2 OFF)
	set(HTTP_ONLY ON)
	set(CURL_BROTLI OFF CACHE STRING "")
	set(CURL_ZSTD OFF CACHE STRING "")

	if (WIN32)
		set(CURL_USE_SCHANNEL ON)
		set(USE_WIN32_IDN ON)
	else()
		set(CURL_USE_MBEDTLS ON)
		if (APPLE)
			set(USE_APPLE_IDN ON)
		endif()
	endif()

	add_subdirectory(${SOURCE_PREFIX})
endif()

add_library(growl-thirdparty::curl ALIAS libcurl_static)
